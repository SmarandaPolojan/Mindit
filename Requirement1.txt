
-- CREATE FIRST DATABASE: PROMOTION APPLICATION

USE [master]
GO

if exists (SELECT name FROM master.sys.databases where name=N'Promotion Application') drop database [Promotion Application];
GO

CREATE DATABASE [Promotion Application];
GO

USE [Promotion Application]
GO

-- CREATE TABLE PA_ITEM IN PROMOTION APPLICATION DATABASE

IF OBJECT_ID(N'dbo.PA_ITEM', N'U') IS NOT NULL drop table dbo.[PA_ITEM];
GO

CREATE TABLE dbo.[PA_ITEM](
	ITEM_ID int NOT NULL,
	ITEM_NAME varchar (100) NOT NULL, 
	ITEM_DESCRIPTON varchar (1000) NOT NULL, 
	BRAND_ID int NOT NULL,
	CATEGORY_ID int NOT NULL,
	
    CONSTRAINT [PK_PA_ITEM_ITEM_ID] PRIMARY KEY (ITEM_ID),
	CONSTRAINT [UC_PA_ITEM_ITEM_NAME] UNIQUE (ITEM_NAME)
	);



-- CREATE SECOND DATABASE: ITEM CATALOGUE

USE [master]
GO

if exists (SELECT name FROM master.sys.databases where name=N'Item Catalogue') drop database [Item Catalogue];
GO

CREATE DATABASE [Item Catalogue];
GO

USE [Item Catalogue]
GO

-- CREATE TABLE IC_CATAGORY IN ITEM CATALOGUE DATABASE

IF OBJECT_ID(N'dbo.IC_CATAGORY', N'U') IS NOT NULL drop table dbo.[IC_CATAGORY];
GO

CREATE TABLE dbo.[IC_CATAGORY](
	CATEGORY_ID int NOT NULL,
	CATEGORY_NAME varchar (100) NOT NULL, 
	CATEGORY_DESC varchar (1000) NULL, 

    CONSTRAINT [PK_IC_CATAGORY_ITEM_ID] PRIMARY KEY (CATEGORY_ID),
	CONSTRAINT [UC_IC_CATAGORY_ITEM_NAME] UNIQUE (CATEGORY_NAME)
	);

-- CREATE TABLE IC_BRAND IN ITEM CATALOGUE DATABASE

IF OBJECT_ID(N'dbo.IC_BRAND', N'U') IS NOT NULL drop table dbo.[IC_BRAND];
GO

CREATE TABLE dbo.[IC_BRAND](
	BRAND_ID int NOT NULL,
	BRAND_NAME varchar (100) NOT NULL, 
	BRAND_DESC varchar (1000) NULL, 

    CONSTRAINT [PK_IC_BRAND_ITEM_ID] PRIMARY KEY (BRAND_ID),
	CONSTRAINT [UC_IC_BRAND_ITEM_NAME] UNIQUE (BRAND_NAME)
	);

-- CREATE TABLE IC_BRAND IN ITEM CATALOGUE DATABASE

IF OBJECT_ID(N'dbo.IC_ITEM', N'U') IS NOT NULL drop table dbo.[IC_ITEM];
GO

CREATE TABLE dbo.[IC_ITEM](
	ITEM_ID int NOT NULL,
	ITEM_NAME varchar (100) NOT NULL, 
	ITEM_DESCRIPTON varchar (1000) NOT NULL, 
	BRAND_ID int NOT NULL,
	CATEGORY_ID int NOT NULL,
	
    CONSTRAINT [PK_IC_ITEM_ITEM_ID] PRIMARY KEY (ITEM_ID),
	CONSTRAINT [UC_IC_ITEM_ITEM_NAME] UNIQUE (ITEM_NAME)
	);

-- CREATE THIRD DATABASE: PRICING APPLICATION

USE [master]
GO

if exists (SELECT name FROM master.sys.databases where name=N'Pricing Application') drop database [Pricing Application];
GO

CREATE DATABASE [Pricing Application];
GO

USE [Pricing Application]
GO

-- CREATE TABLE PA_ITEM IN PRICING APPLICATION DATABASE

IF OBJECT_ID(N'dbo.PR_PRICE', N'U') IS NOT NULL drop table dbo.[PR_PRICE];
GO

CREATE TABLE dbo.[PR_PRICE](
	ITEM_ID int NOT NULL,
	PRICE_DATE varchar (100) NOT NULL, 
	PRICE_VALUE varchar (1000) NOT NULL, 
	
    CONSTRAINT [PK_PR_PRICE_ITEM_ID_PRICE_ID] PRIMARY KEY (ITEM_ID,PRICE_DATE)
	);


-- GO BACK TO MASTER TO UNLOCK PRICING APPLICATION DATABASE USAGE
USE MASTER
GO



